---
import Container from "./Container.astro";
import Frame from "./Frame.astro";
import { cn } from "@lib/utils";
import { button } from "@tailus/themer-button";

const contacts = [
    {
        name: "WhatsApp",
        icon: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-message-circle"><path d="M7.9 20A9 9 0 1 0 4 16.1L2 22Z"/></svg>`,
        label: "Chatta su WhatsApp",
        href: "https://wa.me/393495525181",
        color: "text-green-400",
        hover: "hover:bg-green-500/10 hover:border-green-500/20",
    },
    {
        name: "Email",
        icon: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-mail"><rect width="20" height="16" x="2" y="4" rx="2"/><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"/></svg>`,
        label: "Scrivimi una Email",
        href: "mailto:visualgabri@gmail.com",
        color: "text-blue-400",
        hover: "hover:bg-blue-500/10 hover:border-blue-500/20",
    },
    {
        name: "Instagram",
        icon: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-instagram"><rect width="20" height="20" x="2" y="2" rx="5" ry="5"/><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/><line x1="17.5" x2="17.51" y1="6.5" y2="6.5"/></svg>`,
        label: "Seguimi su Instagram",
        href: "https://instagram.com/visualgabri",
        color: "text-pink-400",
        hover: "hover:bg-pink-500/10 hover:border-pink-500/20",
    },
];
---

<div class="relative py-24 scroll-mt-24" id="contatti">
    <!-- Background Image with Overlay -->
    <div class="absolute inset-0 z-0">
        <img
            src="/cta_bg.png"
            alt="Gym Background"
            class="w-full h-full object-cover opacity-40"
        />
        <div
            class="absolute inset-0 bg-gradient-to-b from-gray-950 via-gray-950/90 to-gray-950"
        >
        </div>
    </div>

    <Container class="relative z-10">
        <div class="grid lg:grid-cols-2 gap-12 lg:gap-24 items-center">
            <!-- Left Column: Text -->
            <div class="space-y-8 text-center lg:text-left">
                <h2
                    class="text-4xl sm:text-5xl font-bold text-white tracking-tight"
                >
                    Pronto a <span class="text-primary-500">Cambiare?</span>
                </h2>
                <p class="text-xl text-gray-300 leading-relaxed">
                    Non lasciare che un altro mese passi senza risultati.
                    Contattami oggi stesso per iniziare il tuo percorso di
                    trasformazione.
                    <br /><br />
                    Rispondo personalmente a tutti i messaggi entro 24 ore.
                </p>

                <div class="hidden lg:block">
                    <Frame>
                        <a
                            href="https://wa.me/393495525181"
                            class={cn(
                                button.primary.lg,
                                "w-full sm:w-auto relative z-[1] shadow-lg shadow-primary-500/20",
                            )}
                        >
                            Richiedi Consulenza Gratuita
                        </a>
                    </Frame>
                </div>
            </div>

            <!-- Right Column: Contact Cards -->
            <div class="flex flex-col gap-4">
                {
                    contacts.map((contact) => (
                        <a
                            href={contact.href}
                            target="_blank"
                            rel="noopener noreferrer"
                            class={cn(
                                "group relative flex items-center gap-6 p-6 rounded-2xl border border-white/5 bg-white/5 backdrop-blur-sm transition-all duration-300",
                                contact.hover,
                            )}
                        >
                            <div
                                class={cn(
                                    "p-4 rounded-full bg-white/5 group-hover:scale-110 transition-transform duration-300",
                                    contact.color,
                                )}
                            >
                                <Fragment set:html={contact.icon} />
                            </div>
                            <div class="flex-1">
                                <h3 class="text-lg font-semibold text-white group-hover:text-primary-400 transition-colors">
                                    {contact.name}
                                </h3>
                                <p class="text-gray-400 group-hover:text-gray-300 transition-colors">
                                    {contact.label}
                                </p>
                            </div>
                            <div class="text-gray-500 group-hover:translate-x-1 transition-transform">
                                <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    width="20"
                                    height="20"
                                    viewBox="0 0 24 24"
                                    fill="none"
                                    stroke="currentColor"
                                    stroke-width="2"
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                >
                                    <path d="m9 18 6-6-6-6" />
                                </svg>
                            </div>
                        </a>
                    ))
                }

                <!-- Mobile CTA (visible only on small screens) -->
                <div class="lg:hidden mt-8">
                    <Frame>
                        <a
                            href="https://wa.me/393495525181"
                            class={cn(
                                button.primary.lg,
                                "w-full relative z-[1] shadow-lg shadow-primary-500/20",
                            )}
                        >
                            Richiedi Consulenza Gratuita
                        </a>
                    </Frame>
                </div>
            </div>
        </div>
    </Container>
</div>
